/**
 * jq-table-sort 0.0.1
 * @requires jq-min
 */
!function(){function t(){var e=$("[table-sort]");for(let t=0;t<e.length;t++)if(e[t].jqsrt||(e[t].jqsrt={}),!e[t].jqsrt.initialized){let r=$("thead tr",e[t]);if(r[0]||(r=$("tr",e[t]),e[t].jqsrt.exclude_first_row=!0),r[0])for(let t=0;t<r[0].children.length;t++)!function(r,e){$(r).css("cursor:pointer");let s=function(t,r){for(r=r.toUpperCase();t.parentNode&&t.tagName.toUpperCase()!==r;)t=t.parentNode;return t.tagName.toUpperCase()===r?t:void 0}(r,"table");s.jqsrt||(s.jqsrt={});s.jqsrt.sort=function(s,r){let n=this;if(!r){let t=$("thead tr",n);t[0]||(t=$("tr",n)),r=t[0].children[s]}n.jqsrt||(n.jqsrt={});n.jqsrt.el&&$(".table-sort-marker",n.jqsrt.el)[0].remove();r!==n.jqsrt.el&&(n.jqsrt.srt=0);n.jqsrt.srt=n.jqsrt.srt?1===n.jqsrt.srt?2:0:1,n.jqsrt.el=n.jqsrt.srt?r:void 0,r.innerHTML=r.innerHTML+(n.jqsrt.srt?'<span class="table-sort-marker">&nbsp;'+(1===n.jqsrt.srt?"&#x25BE;":"&#x25B4;")+"</span>":""),function(e,t){e.jqsrt||(e.jqsrt={});if(!e.jqsrt.data||t){e.jqsrt.data=[];var r=$("tbody tr",e);for(let t=0;t<r.length;t++){var s={id:r[t].tableSortId=t},n=$("td",r[t]);for(let r=0;r<n.length;r++){let t=d(n[r],e);void 0===t&&(t=n[r].innerText),s[r]=t}e.jqsrt.data.push(s)}e.jqsrt.exclude_first_row&&e.jqsrt.data.shift()}}(n),n.jqsrt.srt?n.jqsrt.data.sort((t,r)=>{let e=0;return void 0===t[s]&&void 0===r[s]?e=0:void 0===t[s]?e=1:void 0===r[s]?e=-1:t[s]>r[s]?e=1:t[s]<r[s]&&(e=-1),e=2===n.jqsrt.srt?-e:e}):n.jqsrt.data.sort((t,r)=>t.id-r.id);let o,i=$("tbody tr",n);for(let t=0;t<n.jqsrt.data.length-1;t++){var a=n.jqsrt.data[t].id;let e;for(let t=0;t<i.length;t++)i[t].tableSortId===a&&(e=i[t]);if(o)o.after(e);else if(n.jqsrt.exclude_first_row){let r;for(let t=0;t<i.length;t++)0===i[t].tableSortId&&(r=i[t]);r.after(e)}else $("tbody",n)[0].prepend(e);o=e}}.bind(s),r.addEventListener("selectstart",function(t){t.preventDefault()}),$(r).mousedown(t=>{t.stopPropagation(),s.jqsrt.sort(e,r)})}(r[0].children[t],t);e[t].jqsrt.initialized=!0}}let d;"undifined"==typeof $?console.error("jq-min is not defined, cannot find $ function"):document.addEventListener("DOMContentLoaded",()=>{t()}),window.jqsrt={initAll:t,setReadDataFunc:function(t){d=t}}}();
